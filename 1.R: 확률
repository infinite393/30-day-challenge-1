확률? 경우의 수 세기
-> 생각할 수 있는 모든 경우의 수 중에서 우리가 관심을 갖는 경우의 수가 차지하는 비율을 생각하는 것

용어
시행: 다양한 결과가 나올 수 있는 어떤 것을 실제로 하는 것. ex)복권긁기
표본공간: 가능한 모든 결과의 모임. 동전던지기의 경우 한 번만 던지면 {앞,뒤}, 두번 던지면 {(앞,앞), (앞,뒤), (뒤,앞), (뒤,뒤)}가 된다. 로또 복권의 경우 814만여 가지의 모든 숫자 조합의 모임이 표본공간이 됨.
사건: 가능한 결과들 중 어떤 요구 사항을 만족하는 것.로또 복권 추첨 결과 '여섯 개의 숫자가 연속이다', '모두 홀수가 나온다'등. 중요한 것은 '사건'이 단 하나의 가능한 결과를 의미하지 않을 수도 있다는 점. '추첨 결과 홀수만 나온다'에 속하는 결과는 '1,3,5,7,9,11' 일 수도 있고 '11,13,15,21,39,45' 일 수도 있음
배반사건: 동시에 일어날 수 없는 두 사건. 로또 복권에서 '모두 짝수가 나온다'와 '모두 홀수가 나온다'는 동시에 일어날 수 없는 사건임.
여사건: 어떤 사건이 일어나지 않는 것. 로또 복권 추첨 결과 '모든 숫자가 짝수다'의 여사건은 '모든 숫자가 짝수인 것은 아니다', 즉 '적어도 숫자 하나는 홀수다'이다. 여기서 '모든 숫자가 짝수다'를 부정한 것이 '모든 숫자가 홀수다'가 아닌 것에 주의

수학적 확률
가능한 모든 결과의 개수
수학적 확률을 사용하려면 시행했을 때 표본공간의 모든 경우가 나올 가능성이 같아야 하는 조건이 필요하다.
ㄴ동전던지기에서 동전이 공평하다면 앞이나 뒤가 나올 확률은 같음/주사위던지기에서 주사위만 공평하다면 1부터 6까지의 눈이 나올 확률은 같음 => 수학적 확률을 적용할 수 있다.

but 동전이 약간 구부러져 있어서(사기도박에서와 같이) 앞면이 나올 확률이 3분의 1, 뒷면이 나올 확률이 3분의 2일 때. 이 경우 가능한 결과가 '앞면'과'뒷면'만 있다고 해서 각각의 확률의 2분의 1이라고 하는 것은 옳지 않다. 
로또 복권 당첨 확률의 경우에도 동일한 가능성의 가정이 확률 계산에서는 핵심이다.

통계적 확률
전체 시행 횟수 중 특정 사건이 일어난 횟수의 비율(수학적 확률 보다 구체적)
일반적으로 통계적 확률은 수학적 확률과 정확히 일치하지 않는다.
but 횟수를 무한정 늘리면 통계적 확률은 결국 수학적 확률에 근접한다. 

극한의 의미
통계적 확률이 수학적 확률에 한없이 가까워진다는 이야기는 시행 횟수가 무한정 늘어나는 일종의 '극한'을 가정했기 때문이다. 여기서 '극한'에는 두 가지 의미가 있다.
첫째, 시행 횟수를 무한히 늘렸을 때. 시행 횟수가 적을 때는 통계적 확률이 수학적 확률에 충분히 가깝지 않지만 횟수가 늘어나면서 통계적 확률은 수학적 확률에 점점 접근한다. 반대로 말하면 횟수가 적을 때는 우연에 의해 수학적 확률에서 벗어나는 경우가 종종 있다 = 표집오차
표집오차는 시행 횟수가 늘어날수록 점점 줄어드는 성질이 있고, 결국에는 0에 가까워다
둘째, 한없이 가까워진다. 0에 가까워진다 and 그럼에도 불구하고 차이가 정확히 0이 되는 일은 사실상 일어나지 않는다.

큰 수의 법칙
표본평균이 자료의 크기가 커짐에 따라 한없이 특정값에 가까워진다. 특정갑 = 기댓값
*동전 던지기 시뮬레이션(R)
베르누이 시행: 가능한 결과가 두 개밖에 없고 성공의 확률이 정해져 있는 확률 시행

#rbinom(난수개수,시행횟수,성공확률)
#0은 실패 1은 성공을 의미=뒷면'실패', 앞면'성공'
x = rbinom(5, 1, 0.5)
x
#결과는 계속 달라진다
> x = rbinom(5, 1, 0.5)
> x
[1] 1 0 0 0 1
일때 통계적 확률 => 2/5=0.4

#통계적 확률 계산하기
> mean(x)
[1] 0.4

#동전던지기 100회 시행시 통계적 확률(5회 시행했을 때보다 0.5에 가까워짐)
> x = rbinom(100, 1, 0.5)
> mean(x)
[1] 0.51

#동전던지기 10000회 시행시 통계적 확률(5회 시행횟을 때보다 0.5에 가까워짐)
> x = rbinom(10000, 1, 0.5)
> mean(x)
[1] 0.4944

-> 통계적 확률은 시행 횟수를 늘릴수록 0.5에 한없이 가까워지지만 정확히 0.5가 되는 일은 사실상 일어나지 않는다. 이것이 통계적 확률에서 말하는 극한의 의미.


통계적 확률로 문제 풀기
시행 횟수가 늘어남에 따라 통계적 확률은 수학적 확률에 한없이 가까워진다. 시행=>R
몬테카를로 시물레이션(몬테카를로 방법) : 시뮬레이션을 통해 수학공식을 적용하지 않고도 확률을 계산하는 방법

R과 몬테카를로 시뮬레이션으로 확률 문제 풀기
문제: 1~5까지의 숫자 카드를 섞어 세 장을 뽑아 세 자리 숫자를 만들 때 그 결과가 310보다 클 확률 구하기
#sample(추첨할 대상, 추첨할 개수, 복원 추출 여부)
#sample(1:5, 3, replace=F) 
#replace=F '한번 뽑은 수는 되돌리지 않는다'
n_simulation = 1000
n_success = 0
for(i in 1:n_simulation){
  x = sample(1:5, 3, replace=F)
  if(x[1] >= 4) n_success = n_success + 1
  if((x[1] == 3) & (x[2] >= 2)) n_success = n_success + 1
}

#몬테카를로시뮬레이션은 확류이기 때문에 시뮬레이션 할 때마다 숫자가 조금씩 달라진다
> n_success
[1] 533
> n_success / n_simulation
[1] 0.533

0.55라는 참값과 같지는 않지만 꽤 근사값이 나온것을 확인할 수 있다.

#시행 횟수를 100만 회로 늘려서 다시 실행
> n_success
[1] 550593
> n_success / n_simulation
[1] 0.550593

0.55와 거의 일치하는 것을 볼 수 있다
시행 횟수를 늘리면 늘릴수록 컴퓨터가 표시할 수 있는 한도 내에서는 0.55와 구별할 수 없을 정도로 가까워지므로 그냥 0.55로 표시될것이다.



출처 <3일 만에 끝내는 코딩+통계>

